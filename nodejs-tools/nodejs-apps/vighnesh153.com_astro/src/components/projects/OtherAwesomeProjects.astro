---
import { hashTags } from '@/constants/hashTags';
import { internalLinks, otherAwesomeProjects } from '@/constants';
import Link from '../Link.astro';
import H2 from '../typography/h2.astro';
import P from '../typography/p.astro';
import FolderIcon from '@/icons/FolderIcon.astro';
import H3 from '../typography/h3.astro';
import ProjectIconLink from './ProjectIconLink.astro';
import ProjectTag from './ProjectTag.astro';
---

<section class="other-awesome-projects-section" id={hashTags.projects.otherAwesomeProjects}>
  <H2 variant="h5">
    <Link href={internalLinks.projects.otherAwesomeProjects}>Other awesome projects</Link>
  </H2>

  <ul class="other-awesome-projects-list">
    {
      otherAwesomeProjects.map(({ title, description, tags, links }) => (
        <li class="awesome-project">
          <div class="awesome-project-header">
            <FolderIcon class="awesome-project-folder-icon" role="img" height="2rem" />

            <ul class="awesome-project-links">
              <li>
                <ProjectIconLink href={links.github.href} aria-label="source code">
                  <links.github.Icon role="img" width="1.25rem" height="1.25rem" />
                </ProjectIconLink>
              </li>
              <li>
                <ProjectIconLink href={links.demo.href} aria-label="demo">
                  <links.demo.Icon role="img" width="1.25rem" height="1.25rem" />
                </ProjectIconLink>
              </li>
            </ul>
          </div>
          <H3 variant="inherit" class="awesome-project-title">
            {title}
          </H3>
          <P class="awesome-project-description">{description}</P>
          <ul class="awesome-project-tags">
            {tags.map((tag) => (
              <ProjectTag>{tag}</ProjectTag>
            ))}
          </ul>
        </li>
      ))
    }
  </ul>
</section>

<style lang="scss">
  @import '@/styles/breakpoints-media.css';
  @import '@/styles/typography.scss';

  section.other-awesome-projects-section {
    scroll-margin-top: 8rem;

    margin-inline: 0;
    padding-block: 0;
    margin-top: 4rem;
    margin-bottom: 6rem;
    max-width: unset;
  }

  .other-awesome-projects-list {
    margin-top: 2rem;

    display: grid;
    grid-template-columns: 1fr;
    gap: 3rem;
    grid-template-rows: masonry;

    @media (--md-and-up) {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .awesome-project {
    padding: 1.5rem;

    display: flex;
    flex-direction: column;

    border-radius: 0.5rem;
    box-shadow: 0px 0px 45px 11px var(--background-dark);
    box-shadow: 0px 0px 25px 11px var(--background-dark);
    background-color: var(--background-light);
  }

  .awesome-project-header {
    display: flex;
    align-items: center;
    justify-content: space-between;

    .awesome-project-folder-icon {
      fill: var(--accent);
    }
  }

  .awesome-project-links {
    display: flex;
    gap: 1rem;
  }

  .awesome-project-title {
    margin-top: 1.25rem;

    @media (--xs-and-up) {
      @include h6;
    }
    @media (--md-and-up) {
      @include h5;
    }
  }

  .awesome-project-description {
    margin-top: 0.5rem;

    color: var(--text-2);
    flex-grow: 1;
  }

  .awesome-project-tags {
    margin-top: 1rem;

    display: flex;
    gap: 0.5rem;
  }
</style>
