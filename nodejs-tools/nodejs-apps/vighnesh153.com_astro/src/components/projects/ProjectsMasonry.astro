---
import { allProjects } from '@/constants';
import { classes } from '@/utils';
import FolderIcon from '@/icons/FolderIcon.astro';
import ProjectIconLink from './ProjectIconLink.astro';
import ProjectTag from './ProjectTag.astro';
---

<ul
  class={classes(`
    scroll-mt-32 mt-8

    grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3
    gap-12
    [grid-template-rows:masonry]
    supports-[grid-template-rows:masonry]:[grid-template-rows:masonry]
    supports-[grid-template-rows:masonry]:items-start
  `)}
>
  {
    allProjects.map(({ title, description, tags, links }) => (
      <li class="shadow-backgroundDark bg-backgroundLight flex flex-col rounded-lg p-6 shadow-md">
        <div class="flex items-center justify-between">
          <FolderIcon class="fill-accent" role="img" height="2rem" />

          <ul class="flex gap-4">
            <li>
              <ProjectIconLink href={links.github.href} aria-label="source code">
                <links.github.Icon role="img" width="1.25rem" height="1.25rem" />
              </ProjectIconLink>
            </li>
            <li>
              <ProjectIconLink href={links.demo.href} aria-label="demo">
                <links.demo.Icon role="img" width="1.25rem" height="1.25rem" />
              </ProjectIconLink>
            </li>
          </ul>
        </div>
        <h3 class="mt-5 text-xl md:text-2xl">{title}</h3>
        <p class="text-text2 mt-2 flex-grow text-base">{description}</p>
        <ul class="mt-4 flex flex-wrap gap-2">
          {tags.map((tag) => (
            <ProjectTag>{tag}</ProjectTag>
          ))}
        </ul>
      </li>
    ))
  }
</ul>
